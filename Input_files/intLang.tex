\etocsettocdepth.toc {subsection}

\chapterimage{chapter_head_0} 
\chapter{\DbgSecSt{\StPart}{Создание программ ПЛК}}
\label{sec:DataTypes}
\index{Создание программ ПЛК|(}

\renewcommand{\arraystretch}{1.2} %% increase table row spacing
\renewcommand{\tabcolsep}{0.2cm}   %% increase table column spacing
%--------------------------------------------------------
% *******begin section***************
\section{\DbgSecSt{\StPart}{Краткое описание языка программ ПЛК}}
\index{Создание программ ПЛК!Краткое описание языка программ ПЛК}

Краткое описание языка программ ПЛК содержит информацию об основных элементах языка IntLang.

Полное описание языка IntLang приведено в Руководстве по программированию <<ЯЗЫК ПРОГРАММИРОВАНИЯ IntLang CЧПУ серии IntNC PRO>>.

\subsection{\DbgSecSt{\StPart}{Набор символов}}
\index{Создание программ ПЛК!Описание языка программ ПЛК!Набор символов}

Множество символов языка содержит буквы, цифры и знаки пунктуации.\killoverfullbefore

Набор символов содержит прописные и строчные буквы латинского алфавита, 10 десятичных цифр арабской системы исчисления и символ подчеркивания ( \_ ). Они используются для формирования констант, идентификаторов и ключевых слов. Прописные и строчные буквы обрабатываются как разные символы. 

\renewcommand{\arraystretch}{1.4} %% increase table row spacing
\renewcommand{\tabcolsep}{0.5cm}   %% increase table column spacing
\begin{center}
\begin{tabular}{ l l }
Прописные английские буквы: & A B C D E F G H I J K L M N O P Q R S T U V W X Y Z \\
Строчные английские буквы: & a b c d e f g h i j k l m n o p q r s t u v w x y z  \\
Десятичные цифры: & 0 1 2 3 4 5 6 7 8 9  \\
Символ подчеркивания:  & \_ \\
\end{tabular}
\end{center}

Знаки пунктуации и специальные символы из набора символов имеют самое разное предназначение, от организации текста программы до определения задач, которые будут выполнены программой.

\renewcommand{\arraystretch}{1.2} %% increase table row spacing
\renewcommand{\tabcolsep}{0.2cm}   %% increase table column spacing
\begin{center}
\begin{tabular}{ l l|l l }
, &  запятая  &  >  &  правая угловая скобка   \\
. &  точка &   ! &   восклицательный знак   \\
; &  точка с запятой  &   $\vert$   &  вертикальная черта      \\
: &  двоеточие  &   /   &  знак деления   \\
? &  знак вопроса     &  \textbackslash   &  знак обратного деления    \\
' &  одинарная цитатная скобка     &  \textasciitilde  &  тильда    \\
\end{tabular}
\end{center}

\begin{center}
\begin{tabular}{ l l|l l }
" &  двойная цитатная скобка     &  +   &  плюс    \\
( & левая круглая скобка     &   \#   &  номер   \\
) &  правая круглая скобка    &   \%    &  процент \\
$ [ $ &  левая прямоугольная скобка     &  \&   &  амперсанд\\
$ ] $ &  правая прямоугольная скобка     &   \textasciicircum   &  крышечка\\
\{ &  левая фигурная скобка     &   *    &  звездочка\\
\} &  правая фигурная скобка     &   -   &  минус\\
< &  левая угловая скобка    &   =   &  равно \textcolor{white}{отступ отступ отступ} \\
\end{tabular}
\end{center}

% *******end subsection*****************
%--------------------------------------------------------
\subsection{\DbgSecSt{\StPart}{Ключевые слова}}
\index{Создание программ ПЛК!Описание языка программ ПЛК!Ключевые слова}

Ключевые слова ~-- заранее определенные идентификаторы, которые имеют специальное значение. Их использование строго регламентировано. Имя элемента программы не может совпадать по написанию с ключевым словом. 

\begin{center}
\begin{tabular}{ c | c | c | c }
break    & double   & int      & switch \\
case     & else     & long     & typedef \\
char     & enum     & return   & union \\
const    & extern   & short    & unsigned \\
continue & float    & signed   & void \\
default  & for      & static   &  while \\
do       & if       & struct   &  \\
\end{tabular}
\end{center}

\subsection{\DbgSecSt{\StPart}{Базовые типы данных}}
\index{Создание программ ПЛК!Описание языка программ ПЛК!Базовые типы данных}

В языке реализован набор типов данных, называемых базовыми типами. Спецификации этих типов перечислены ниже.
%в табл.~\ref{tbl:DataTypes}.

\begin{center}
\begin{tabular}{ l l }
Целые типы: & char, short, int, long, enum   \\
Типы с плавающей точкой: & float, double  \\
Пpочие:  & void, const \\
\end{tabular}
\end{center}

\begin{comment}
\begin{center}%
        \begin{longtable}{|m{0.45\linewidth}|m{0.30\linewidth}|}
        \caption{Базовые типы данных}\label{tbl:DataTypes}\\ 
    \hline  
            &       \\
            \TB{\textbf{Тип данных}} &  
            \textbf{Спецификация типа}  \TBend 
            &       \\
\hline

\hline  Целые типы         & char \\ \cline{2-2}
                    & short  \\ \cline{2-2}
                        & int  \\ \cline{2-2}
                        & long \\ \cline{2-2}
                        & enum  \\ 

\hline  Типы с плавающей точкой     & float \\ \cline{2-2}
                   & double \\ 

\hline  Пpочие          & void \\ \cline{2-2}
                        & const \\ \cline{2-2}

\hline
\end{longtable}
\end{center}%
\end{comment}


\begin{comment}
Типы данных, определяемые пользователем, указаны в табл.~\ref{tbl:UserDataTypes}.

\begin{MyTableTwoColCntr}{Типы данных пользователя}{tbl:UserDataTypes}{|m{0.17\linewidth}|m{0.73\linewidth}|}{Тип данных}{Описание}
\hline Массивы  & Одномерный:\textcolor{white}{отс}  имя\_массива[размер] \newline Двумерный:\textcolor{white}{отсту}   имя\_массива[размер][размер]\\
\hline Структуры & struct имя\_структуры \{описание элемента структуры, ... \};  \newline
Поля бит в структурах: \textcolor{white}{отс} struct имя\_структуры \{ \newline
описание элемента структуры : кол-во бит, ... \};\\
\hline  Объединения  & union имя\_объединения \{описание элемента объединения, ... \}; \\
\hline  Перечисления & enum имя\_перечисления \{список значений \}; \\
\end{MyTableTwoColCntr}
\end{comment}

% *******end subsection*****************
%--------------------------------------------------------

% *******begin section***************
\subsection{\DbgSecSt{\StPart}{Области значений}}
\index{Создание программ ПЛК!Описание языка программ ПЛК!Области значений}

Область значений ~-- интервал от минимального до максимального значения, которое может быть представлено в переменной данного типа. В табл.~\ref{tbl:Range} приведен размер занимаемой памяти и области значений переменных каждого типа. \killoverfullbefore
 
\begin{MyTableThreeCol}{Область значений типов}{tbl:Range}{|>{\TB}m{0.20\linewidth}|>{\TB}m{0.10\linewidth}|m{0.6\linewidth}|}{Тип}{Размер, байт}{Область значений}
\hline  
unsigned char & \centering{1} & $  0  \div  255  $\\ 
\hline 
signed char (char) & \centering{1} &  $  -128  \div  127  $\\
\hline 
unsigned short & \centering{2} &  $  0  \div  65535  $\\
\hline 
signed short (short) & \centering{2} &  $  -32768  \div  32767  $\\
\hline 
unsigned int (unsigned) & \centering{4} &  $  0  \div  4294967295  $\\
\hline 
signed int (int) & \centering{4} &  $  -2147483648  \div  2147483647  $\\
\hline 
unsigned long  & \centering{8} &  $  0  \div  18446744073709551615  $\\
\hline 
signed long (long) & \centering{8} &  $ -9223372036854775808 \div 9223372036854775807 $ \\
\hline  
float & \centering{4} & $1.175494351\cdot10^{-38} \div 3.402823466\cdot10^{+38} $ \\ 
\hline 
double & \centering{8} & $2.2250738585072014\cdot10^{-308} \div 1.7976931348623158\cdot10^{+308} $ \\
\end{MyTableThreeCol}
% *******end section*****************
%--------------------------------------------------------
% *******begin section***************
\subsection{\DbgSecSt{\StPart}{Объявления переменных}}
\index{Создание программ ПЛК!Описание языка программ ПЛК!Объявления переменных}

Переменные используются для хранения значений. Переменная характеризуется типом и именем. Типы переменных приведены в табл.~\ref{tbl:VT}. Имя переменной может начинаться с подчеркивания или буквы, но не с числа. Имя переменной может включать в себя символы английского алфавита, цифры и знак подчёркивания, но не должно совпадать с ключевыми словами.

\begin{MyTableTwoColCntr}{Типы переменных}{tbl:VT}{|m{0.18\linewidth}|m{0.73\linewidth}|}{Тип переменной}{Описание}
\hline \centering{Простая переменная}  & Отдельная переменная с одним значением целого типа или с плавающей точкой \\
\hline \centering {Перечисляемая переменная}   & Простая переменная целого типа, принимающая одно значение из предопределенного набора именованных констант \newline enum имя\_перечисления \{список значений \};\\
\hline  \centering {Структура}  & Переменная, содержащая совокупность элементов, которые могут иметь различные типы \newline struct имя\_структуры \{описание элемента структуры, ... \};  \newline
Поля бит в структурах: \textcolor{white}{отс} struct имя\_структуры \{ \newline
описание элемента структуры : кол-во бит, ... \};\\
\hline  \centering {Объединение} & Переменная, содержащая совокупность элементов, которые могут иметь различные типы, но занимают одну и ту же область памяти \newline union имя\_объединения \{описание элемента объединения, ... \};\\
\hline \centering {Массив} & Переменная, содержащая совокупность элементов одинакового типа \newline Одномерный:\textcolor{white}{отс}  имя\_массива[размер] \newline Двумерный:\textcolor{white}{отсту}   имя\_массива[размер][размер]\\
\end{MyTableTwoColCntr}

% *******end section*****************
%--------------------------------------------------------
% *******begin section***************
\subsection{\DbgSecSt{\StPart}{Операции}}
\index{Создание программ ПЛК!Описание языка программ ПЛК!Операции}

Любое выражение состоит из операндов, соединенных знаками операций. Знак операции - это символ или группа символов, которые сообщают о необходимости выполнения определенных арифметических, логических или других действий. 

Операции имеют либо один операнд (унарные операции), либо два операнда (бинарные операции), либо три (тернарная операция). Операция присваивания может быть как унарной, так и бинарной.\killoverfullbefore

Унарные операции приведены в табл.~\ref{tbl:UO}. Унарные операции выполняются справа налево. \killoverfullbefore

Операции увеличения и уменьшения увеличивают или уменьшают значение операнда на единицу и могут быть записаны как справа так и слева от операнда. \killoverfullbefore

Если знак операции записан перед операндом (префиксная форма), то изменение операнда происходит до его использования в выражении. Если знак операции записан после операнда (постфиксная форма), то операнд вначале используется в выражении, а затем происходит его изменение. \killoverfullbefore \BL

\begin{MyTableTwoColCntr}{Унарные операции}{tbl:UO}{|m{0.25\linewidth}|m{0.65\linewidth}|}{Знак операции}{Операция}
\hline \centering{{--}}    & арифметическое отрицание (отрицание и дополнение) \\
\hline \centering {\textasciitilde}   & побитовое логическое отрицание (дополнение) \\
\hline  \centering {!}  & логическое отрицание \\
\hline  \centering {*} & разадресация (косвенная адресация) \\
\hline \centering {\&} & вычисление адреса \\
\hline \centering {+} & унарный плюс \\
\hline \centering {++} & увеличение (инкремент) \\
\hline \centering {{--}{--}} & уменьшение (декремент) \\
\end{MyTableTwoColCntr}

Бинарные операции приведены в табл.~\ref{tbl:BO}. В отличие от унарных, бинарные операции выполняются слева направо. 

\begin{center}%
        \begin{longtable}{|m{0.25\linewidth}|>{\centering}m{0.15\linewidth}|m{0.55\linewidth}|}
        \caption{Бинарные операции}\label{tbl:BO}\\ 
    \hline  
            &       &         \\
            \TB{\textbf{Группа операций}} &  
            \textbf{Знак операции} & \textbf{Операция} \TBend 
            &       &        \\
\hline

\hline  Мультипликативные       & * & умножение \\ \cline{2-3}
                        & / & деление \\ \cline{2-3}
                        & \% & остаток от деления \\                         
                        
\hline  Аддитивные      & + & сложение \\ \cline{2-3}
                        & {--} & вычитание \\ 

\hline  Операции сдвига & $\ll$ & сдвиг влево \\ \cline{2-3}
                        & $\gg$ & сдвиг вправо \\ 
   
\hline Операции         & < & меньше \\ \cline{2-3}
отношения               & <= & меньше или равно \\ \cline{2-3}
                        & > & больше \\ \cline{2-3} 
                        & >= & больше или равно \\ \cline{2-3}                        
                        & == & равно \\ \cline{2-3}                           
                        & != & не равно \\   
                        
\hline Поразрядные      & \& & поразрядное И \\ \cline{2-3}
операции                & $\vert$ & поразрядное ИЛИ \\ \cline{2-3}
                        & \textasciicircum & поразрядное исключающее ИЛИ \\  
 
\hline   Операция последовательного вычисления     & , & последовательное вычисление \\

\hline  Операции        & = & присваивание \\ \cline{2-3}
присваивания            & *= & умножение с присваиванием \\ \cline{2-3}
                        & /= & деление с присваиванием \\ \cline{2-3} 
                        & \%= & остаток от деления с присваиванием \\ \cline{2-3}                        
                        & {--}= & вычитание с присваиванием \\ \cline{2-3}                           
                        & += & сложение с присваиванием \\   \cline{2-3} 
                        & $\ll$= & сдвиг влево с присваиванием \\   \cline{2-3} 
                        & $\gg$= & сдвиг вправо с присваиванием \\  \cline{2-3}   
                        & \&= & поразрядное И с присваиванием \\ \cline{2-3} 
                        & $\vert$= & поразрядное ИЛИ с присваиванием \\ \cline{2-3} 
                        & \textasciicircum= & поразрядное исключающее ИЛИ с присваиванием \\
\hline
\end{longtable}
\end{center}%

Тернарное выражение состоит из трех операндов, разделенных знаками тернарной операции (?) и (:), и имеет вид: <операнд1>?<операнд2>:<операнд3>.
% *******end section*****************
%--------------------------------------------------------
% *******begin subsection***************
\subsection{\DbgSecSt{\StPart}{Операторы}}
\index{Создание программ ПЛК!Описание языка программ ПЛК!Операторы}

Оператор ~-- законченная конструкция языка, реализующая определенные действия
в программе. Операторы языка приведены в табл.~\ref{tbl:Operators}.

\begin{MyTableThreeColCntr}{Операторы}{tbl:Operators}{|m{0.12\linewidth}|m{0.4\linewidth}|m{0.38\linewidth}|}{Оператор}{Описание}{Синтаксис}
\hline Простой оператор  & Любое выражение, которое заканчивается точкой с запятой. & выражение; \\
\hline Составной оператор & Последовательность операторов, заключенная в фигурные
скобки.  & \{ \newline [объявление] \newline ... \newline оператор; \newline
[оператор]; \newline ... \newline \} \\
\hline Оператор if  &  Условный оператор.  & if (<выражение>) \newline <оператор1> \newline [else <оператор2>] \\
\hline Оператор for   &  Оператор цикла, позволяющий повторять некоторый набор операторов в программе определенное количество раз.  & for([<начальное-выражение>];\newline [<условное-выражение>];\newline
[<выражение-цикла>]) \newline тело-оператора\\
\hline  Оператор while  & Оператор цикла, применяемый, когда заранее неизвестно количество повторений.  & while (<выражение>) \newline тело оператора \\
\hline  Оператор do while  &  Оператор цикла с постусловием, в котором сначала выполняется оператор, затем анализируется условие.  & do \newline тело-оператора \newline while (<выражение>) \\
\hline Оператор switch & Выбор одного оператора(-ов) из нескольких.  & switch (<выражение>)  \{\newline
[объявление]\newline
...\newline
[case константное-выражение:]\newline
[список операторов]\newline
...\newline
[case константное-выражение:]\newline
[список операторов]\newline
...\newline
[default:\newline
[список операторов]]\newline
\}\\
\hline Оператор break & Прерывает выполнение операторов do, for, switch или while, в которых он появляется. & break; \\
\hline Оператор continue & Передает управление на следующую итерацию в
операторах цикла do, for, while. & continue; \\
\hline Оператор return & Оператор return завершает выполнение функции, в которой он задан, и возвращает управление в вызывающую функцию. & return [выражение]; \\
\end{MyTableThreeColCntr}
% *******end section*****************
%--------------------------------------------------------
% *******begin subsection***************
\subsection{\DbgSecSt{\StPart}{Функции}}
\index{Создание программ ПЛК!Описание языка программ ПЛК!Функции}

Функция ~-- совокупность объявлений и операторов, предназначенная для выполнения некоторой отдельной задачи. Количество функций в программе не ограничивается.

С использованием функций связаны три понятия - определение функции (описание действий, выполняемых функцией), объявление или прототип функции (задание формы обращения к функции) и вызов функции:
\begin{itemize}
\item Определение функции специфицирует имя функции, тип и число её формальных
параметров, а также тело функции, содержащее объявления и операторы («тело функции»);  в нем также может устанавливаться тип возвращаемого значения и класс памяти.
\item Объявление или прототип функции определяет её имя, тип возвращаемого значения и класс памяти; в нем также могут быть установлены типы и идентификаторы
для некоторых или всех аргументов функции.
\item Вызов функции передает управление и фактические аргументы заданной функции. \killoverfullbefore 
\end{itemize}
% *******end section*****************
%--------------------------------------------------------
% *******begin subsection***************
\subsection{\DbgSecSt{\StPart}{Директивы препроцессора}}
\index{Создание программ ПЛК!Описание языка программ ПЛК!Директивы препроцессора}

Директивы препроцессора ~-- инструкции препроцессору, то есть текстовому процессору, который обрабатывает текст исходного файла. Директивы препроцессора приведены в табл.~\ref{tbl:Direct}.\killoverfullbefore 

Знак решётки (\#) должен быть первым неразделительным символом в строке, содержащей директиву. Некоторые директивы содержат аргументы или значения. Любой текст, который следует за директивой (кроме аргумента или значения, который является частью директивы) должен быть заключен в скобки комментария (/*  */). \killoverfullbefore

\begin{MyTableThreeColCntr}{Директивы препроцессора}{tbl:Direct}{|m{0.14\linewidth}|m{0.36\linewidth}|m{0.40\linewidth}|}{Директива}{Описание}{Синтаксис}
\hline \#define  & Используется для замены часто используемых в программе констант, ключевых слов, операторов и выражений содержательными идентификаторами. & \#define <идентификатор> <текст> \\
\hline \#include & Включает содержимое исходного файла, имя пути которого задано, в текущий исходный файл.  & \#include "имя пути" \newline \#include <имя пути> \\
\hline \#if, \newline \#elif, \newline \#else, \newline \#endif  &  Управляют условной компиляцией, то есть позволяют подавить компиляцию части исходного файла, проверяя постоянное выражение или идентификатор.  & \#if <ограниченное-константное-выражение> <текст> \newline \#elif <ограниченное-константное-выражение> <текст> \newline \#else <текст> \newline \#endif\\
\end{MyTableThreeColCntr}

Директивы препроцессора могут появляться в произвольном месте исходного файла, но они будут воздействовать только на оставшуюся часть исходного файла, в котором они появились. \killoverfullbefore
% *******end section*****************
%--------------------------------------------------------
% *******begin subsection***************
\subsection{\DbgSecSt{\StPart}{Математические функции}}
\index{Создание программ ПЛК!Описание языка программ ПЛК!Математические функции}

\begin{MyTableTwoColCntr}{Математические функции}{tbl:MFunc}{|m{0.37\linewidth}|m{0.53\linewidth}|}{Функция}{Описание}
\hline int isnan(double x); \newline int isnanf(float x); & Функция используется для проверки, является ли аргумент x не числом NaN. \\
\hline double cos(double x); \newline float cosf(float x); & Функция возвращает значение косинуса аргумента х. \\
\hline double sin(double x); \newline float sinf(float x);  &  Функция возвращает значение синуса аргумента х. \\
\hline double tan(double x); \newline float tanf(float x);  &  Функция возвращает значение тангенса аргумента х. \\
\hline double acos(double x); \newline float acosf(float x);  &  Функция возвращает главное значение арккосинуса аргумента х. \\
\hline double asin(double x); \newline float asinf(float x);  &  Функция возвращает главное значение арксинуса аргумента х. \\
\hline double atan(double x); \newline float atanf(float x);  &  Функция возвращает главное значение арктангенса аргумента х. \\
\hline double atan2(double y, double x); \newline float atan2f(float y, float x);  &  Функция возвращает главное значение арктангенса аргумента y/x. \\
\hline double sqrt(double x); \newline float sqrtf(float x);  &  Функция возвращает значение квадратного корня аргумента x. \\
\hline double fabs(double x); \newline float fabsf(float x);  &  Функция возвращает абсолютное значение (модуль) аргумента x. \\
\hline double pow(double x, double p); \newline float powf(float x, float p);  &  Функция возвращает значение аргумента х, возведенного в степень р ($\text{x}^p$). \\
\hline double exp(double x); \newline float expf(float x);  &  Функция возвращает значение экспоненты аргумента х ($\text{e}^x$). \\
\hline double exp2(double x); \newline float exp2f(float x);  &  Функция возвращает значение числа 2 в степени x ($\text{2}^x$). \\
\hline double log(double x); \newline float logf(float x);  &  Функция возвращает значение натурального логарифма аргумента х. \\
\hline double log10(double x); \newline float log10f(float x);  &  Функция возвращает значение логарифма по основанию 10 аргумента x. \\
\hline double log2(double x); \newline float log2f(float x);  &  Функция возвращает значение логарифма по основанию 2 аргумента x. \\
\hline double min(double x, double y); \newline float minf(float x, float y); &  Функция возвращает наименьшее из двух значений аргументов x и y. \\
\hline double max(double x, double y); \newline float maxf(float x, float y); &  Функция возвращает наибольшее из двух значений аргументов x и y. \\
\hline double floor(double x); \newline float floorf(float x);  &  Функция округляет аргумент x до наибольшего целого числа, которое меньше или равно аргументу. \\
\hline double ceil(double x); \newline float ceilf(float x);  &  Функция округляет аргумент x до наименьшего целого числа, которое больше или равно аргументу. \\
\hline double trunc(double x); \newline float truncf(float x);  &  Функция округляет аргумент x путем отброса дробной части, то есть возвращает целую часть аргумента. \\
\hline double round(double x); \newline float roundf(float x);  &  Функция округляет аргумент x до ближайшего целого числа. \\
\hline double fmod(double x, double y); \newline fmodf(double x, double y);  &  Функция возвращает остаток от деления х на у. \\
\end{MyTableTwoColCntr}
% *******end section*****************
%--------------------------------------------------------
% *******begin subsection***************
\subsection{\DbgSecSt{\StPart}{Функции работы с памятью}}
\index{Создание программ ПЛК!Описание языка программ ПЛК!Функции работы с памятью}

\begin{MyTableTwoColCntr}{Функции работы с памятью}{tbl:ArrayFunc}{|m{0.37\linewidth}|m{0.53\linewidth}|}{Функция}{Описание}
\hline void memcpy (void *dst, void *src, int size); & Функция копирует size байт из области памяти, адресуемой аргументом src, в область памяти, адресуемую аргументом dst. \\
\hline void memmove (void *dst, void *src, int size); & Функция копирует size байт из области памяти, адресуемой аргументом src, в область памяти, адресуемую аргументом dst. \\
\hline void memset (void *ptr, int n, int size); & Функция заполняет первые size байт области памяти, адресуемой аргументом ptr, символом n после его преобразования в unsigned char. \\
\end{MyTableTwoColCntr}
% *******end section*****************
%--------------------------------------------------------

\clearpage

% *******begin section***************
\section{\DbgSecSt{\StPart}{Среда проектирования и разработки}}
\index{Создание программ ПЛК!Среда проектирования и разработки}

Для создания программ ПЛК используется кросс-платформенная свободно распространяемая
интегрированная среда разработки IDE Qt Creator, которая представляет собой комплекс настраиваемых программных средств для разработки программного обеспечения. \killoverfullbefore 

Данное решение предлагает:
\begin{itemize}
\item редактор кода с подсветкой синтаксиса, определяемой пользователем;  
\item удобную навигацию внутри проекта;
\item дополнительные элементы, помогающие визуализировать проект;
\item поддержку для сборки приложений;
\item использование различных компиляторов;
\item возможность вывода сообщений об ошибках и предупреждений. \killoverfullbefore 
\end{itemize}

\begin{comment}
 не просто редактор кода, но и ряд дополнительных элементов, помогающих визуализировать проект, а также протестировать его на работоспособность и взаимодействие с конечным пользователем. 

Qt Creator (ранее известная под кодовым названием Greenhouse) — кроссплатформенная свободная IDE для разработки на С, С++ и QML. Разработана Trolltech (Digia) для работы с фреймворком Qt. Включает в себя графический интерфейс отладчика и визуальные средства разработки интерфейса как с использованием QtWidgets, так и QML.

, ИСP, также единая среда разработки, ЕСР — комплекс программных средств, используемый программистами для разработки программного обеспечения (ПО).

IDE используется для программирования на популярных языках, среди которых C, C++ и QML. Подобно другим интегрированным средам разработки, 

Юзеру доступно использование редактора кода, компилятора, (способного компилировать не только готовые проекты, но и их отдельные блоки), отладчика приложений и дополнительного редактора интерфейса. Работать с кодом в Qt Creator довольно удобно благодаря встроенной подсветке синтаксиса – ее, к слову, можно настроить под свои нужды, изменив стандартные параметры на свои собственные. 

Ключевые особенности
подсветка синтаксиса популярных языков программирования; 
возможность использовать редактор кода и интерфейса, отладчик и компилятор;
автоматическое завершение строк;
обеспечение удобной навигации внутри проекта;
компиляция отдельных блоков кода;
разработка под Windows, а также другие популярные десткопные и мобильные операционные системы;
расширение базового функционала программы с помощью плагинов.

Напомню, что Qt Creator является кросс-платформенной свободной IDE для работы с фреймворком Qt, разработанной Trolltech (Nokia). Что не мешает сделать из него простой текстовый редактор с подсветкой синтаксиса, простым отключением всех расширений. Внимание, сотни картинок!
\end{comment}

\subsection{\DbgSecSt{\StPart}{Открытие и редактирование проекта}}
\index{Создание программ ПЛК!Среда проектирования и разработки!Открытие проекта}

После запуска Qt Creator открывается режим <<Начало>> (рис. ~\ref{fig:Qt_1}), в котором пользователь может:
\begin{itemize}
\item открыть проект;  
\item открыть недавние сессии и проекты;  
\item создать новый проект;
\item открыть справочную информацию. \killoverfullbefore 
\end{itemize}

\DrawPictEpsFromSvg[0.95\textwidth]{./Pictures/svg/Qt_1}{Начальное окно Qt Creator}{Qt_1}

Для переключения режимов предназначена левая боковая панель ~-- переключатель режимов:
\begin{itemize}
\item режим <<Редактор>> используется для редактирования проекта и файлов исходных кодов;
\item режим <<Отладка>> используется для просмотра состояние вашей программы во время отладки;
\item режим <<Проекты>> используется для настройки сборки и запуска проекта (режим доступен, если открыт проект);
\item режим <<Справка>> используется для просмотра документации.\killoverfullbefore \BL
\end{itemize}

Для открытия проекта следует нажать на кнопку <<Открыть проект>> (сочетание клавиш Ctrl+Shift+O), перейти в каталог, в котором находятся конфигурационные файлы, и выбрать файл <<project.creator>>. Если имя проекта присутствует в списке последних проектов, выбрать его из данного списка.

%Для открытия проекта следует выбрать его из списка последних проектов в начальном окне или использовать сочетание клавиш Ctrl+Shift+O. 

После открытия проекта Qt Creator переходит в режим <<Редактор>> (рис. ~\ref{fig:Qt_2}).

\DrawPictEpsFromSvg[0.95\textwidth]{./Pictures/svg/Qt_2}{Содержимое проекта}{Qt_2}

В меню <<Проекты>> боковой панели выбирается её содержимое:
\begin{itemize}
\item пункт <<Проекты>> показывает список открытых проектов в текущей сессии;
\item пункт <<Открытые документы>> показывает открытые в настоящий момент документы;
\item пункт <<Закладки>> показывает установленные закладки для текущей сессии;
\item пункт <<Файловая система>> показывает содержимое проекта в каталоге;
\item пункт <<Обзор классов>> показывает функции и пользовательские типы;
\item пункт <<Иерархия включений>> показывает зависимости между файлами проекта. \killoverfullbefore \BL
\end{itemize}

Дерево файлов проекта на боковой панели позволяет перемещаться между директориями проекта, открывать файлы в редакторе. С помощью контекстного меню возможно добавлять существующие файлы и каталоги, переименовывать, удалять файлы и т.д.\killoverfullbefore

Нижняя панель имеет несколько вкладок: <<Проблемы>>,  <<Результаты поиска>>, <<Вывод приложения>>, <<Консоль сборки>> и др, число которых настраивается пользователем.\killoverfullbefore 

Вкладка <<Проблемы>> (рис. ~\ref{fig:Qt_5}) предоставляет список произошедших во время сборки ошибок и предупреждений. Нажатие правой кнопкой мыши на строке вызовет контекстное меню, с помощью которого можно копировать содержимое, показать в редакторе, в консоли сборки и т.д.\killoverfullbefore

\DrawPictEpsFromSvg[0.95\textwidth]{./Pictures/svg/Qt_5}{Вывод ошибок и предупреждений}{Qt_5}

Вкладка <<Результаты поиска>>, вызываемая также сочетанием клавиш Ctrl+Shift+F, отображает результаты глобальных поисков, таких как поиск внутри текущего документа, проекта, во всех проектах или на диске. Рис. ~\ref{fig:Qt_3} показывает пример результатов поиска всех упоминаний \texttt{<<PLC>>} в текущем проекте.\killoverfullbefore

Вкладка <<Вывод приложения>> отображает статус программы при её выполнении и отладочную информацию. 

Вкладка <<Консоль сборки>> предоставляет список произошедших во время сборки ошибок и предупреждений, который является более расширенным по сравнению с вкладкой <<Проблемы>>.\killoverfullbefore

\DrawPictEpsFromSvg[0.95\textwidth]{./Pictures/svg/Qt_3}{Результаты поиска}{Qt_3}

\subsection{\DbgSecSt{\StPart}{Сборка проекта}}
\index{Создание программ ПЛК!Среда проектирования и разработки!Сборка проекта}

Режим <<Проекты>> используется для настройки сборки проекта (рис. ~\ref{fig:Qt_4}). 

\DrawPictEpsFromSvg[0.95\textwidth]{./Pictures/svg/Qt_4}{Настройка сборки}{Qt_4}

В окне <<Настройка сборки>> указывается каталог сборки ~-- каталог, в котором находятся конфигурационные файлы, и этап сборки <<Особый: servovmc имя\_проекта.cfg>>\killoverfullbefore

Сборка проекта выполняется из верхнего меню <<Сборка>> выбором пункта <<Собрать проект>> (сочетание клавиш Ctrl+В) или нажатием нижней кнопки левой боковой панели (рис. ~\ref{fig:Qt_6}).\killoverfullbefore

\DrawPictEpsFromSvg[0.95\textwidth]{./Pictures/svg/Qt_6}{Сборка проекта}{Qt_6}

После успешной сборки проекта в каталоге сборки будет создан файл конфигурации <<config.mcc>>, который записывается в УЧПУ.\killoverfullbefore
% *******end section*****************
%--------------------------------------------------------

% *******begin section***************
\section{\DbgSecSt{\StPart}{Объявление и реализация программ ПЛК}}
\index{Создание программ ПЛК!Объявление и реализация программ ПЛК}

Для создания программы ПЛК необходимо создать новый файл с расширением \texttt{cfg} в каталоге \texttt{<<source/platform/имя\_проекта>>}. \killoverfullbefore

В рассматриваемом примере: \texttt{<<source/platform/stanok>>}. \killoverfullbefore 

\begin{comment}
\begin{itemize}
\item в окне дерева файлов проекта на боковой панели правой кнопкой мыши на папке с именем проекта вызвать контекстное меню, в котором выбрать пункт <<Добавить новый>>;
\item в появившемся окне <<Новый файл>> выбрать шаблон <<С++>> и <<Файл исходных текстов С++>>;
\item в следующем окне <<Файл исходных текстов С++>> задать имя файла с расширением;
\item добавить файл в текущий проект. \killoverfullbefore \BL
\end{itemize} 
\end{comment}

После открытия проекта в окне дерева файлов проекта на боковой панели правой кнопкой мыши на папке с именем проекта вызвать контекстное меню, в котором выбрать пункт <<Добавить новый>> (рис. ~\ref{fig:CreatePLC_1}). \killoverfullbefore

\DrawPictEpsFromSvg[0.7\textwidth]{./Pictures/svg/CreatePLC_1}{Создание нового файла в проекте}{CreatePLC_1}

В появившемся окне <<Новый файл>> выбрать шаблон <<С++>> и <<Файл исходных текстов С++>> (рис. ~\ref{fig:CreatePLC_2}).

\DrawPictEpsFromSvg[0.7\textwidth]{./Pictures/svg/CreatePLC_2}{Выбор типа файла}{CreatePLC_2}

В следующем окне <<Файл исходных текстов С++>> задать имя файла с расширением \texttt{cfg}, в котором будет реализована программа ПЛК (рис. ~\ref{fig:CreatePLC_3}).

В рассматриваемом примере: <<user\_plc.cfg>>.

\DrawPictEpsFromSvg[0.7\textwidth]{./Pictures/svg/CreatePLC_3}{Задание имени файла программы ПЛК с расширением}{CreatePLC_3}

Добавить файл в текущий проект, нажав кнопку <<Завершить>>. После добавления нового файла его имя должно появиться в окне дерева файлов проекта.\killoverfullbefore

\DrawPictEpsFromSvg[0.7\textwidth]{./Pictures/svg/CreatePLC_4}{Добавление нового файла в проект}{CreatePLC_4}

Открыв созданный файл <<user\_plc.cfg>> в редакторе, следует объявить в нём ПЛК программу строкой \texttt{PLC (номер\_программы, имя\_функции)} и реализовать определение функции.\killoverfullbefore

В рассматриваемом примере: \texttt{PLC (9, user\_conrol)}.

\DrawPictEpsFromSvg[0.7\textwidth]{./Pictures/svg/CreatePLC_5}{Объявление программы ПЛК }{CreatePLC_5}

В файл \texttt{<<source/platform/имя\_проекта/target.cfg>>} добавить строку с именем созданного файла.\killoverfullbefore

В рассматриваемом примере: \texttt{\#include "user\_plc.cfg"}.

\DrawPictEpsFromSvg[0.7\textwidth]{./Pictures/svg/CreatePLC_6}{Включение файла программы ПЛК в конфигурационный файл \texttt{<<target.cfg>>}}{CreatePLC_6}

В файле \texttt{<<include/platform/имя\_проекта/stanok\_desc.h>>} определить идентификатор, соответствующий номеру программы ПЛК.\killoverfullbefore 

В рассматриваемом примере: \texttt{\#define PLC\_USER\_CTRL \textcolor{white}{от} 9}.

\DrawPictEpsFromSvg[0.7\textwidth]{./Pictures/svg/CreatePLC_7}{Определение идентификатора программы ПЛК}{CreatePLC_7}

Для разрешения выполнения программы ПЛК необходимо добавить вызов функции \texttt{enablePLC(идентификатор)} в файле \texttt{<<source/platform/имя\_проекта/stanok.cfg>>} в функцию \texttt{initMachine()}.\killoverfullbefore

В рассматриваемом примере: \texttt{enablePLC(PLC\_USER\_CTRL)}.

\DrawPictEpsFromSvg[0.7\textwidth]{./Pictures/svg/CreatePLC_8}{Разрешение выполнения программы ПЛК}{CreatePLC_8}
% *******end section*****************
%--------------------------------------------------------
% *******begin section***************
\section{\DbgSecSt{\StPart}{Предопределённые функции}}
\index{Создание программ ПЛК!Предопределённые функции}

Предопределёнными функциями в системе управления являются:
\begin{itemize}
\item \texttt{void setup()};  
\item \texttt{void motion\_nc()};
\item \texttt{void motion\#\#()}, где \#\# ~-- целое число (1, 2, 3, \dots). \killoverfullbefore \BL
\end{itemize}

Функция \texttt{void setup()} ~-- точка старта программы пользователя,  определяемая в файле \texttt{setup.cfg}. Данной функции передаётся управление после запуска системы. 

\DrawPictEpsFromSvg[0.7\textwidth]{./Pictures/svg/CreatePLC_9}{Содержимое файла \texttt{setup.cfg}}{CreatePLC_9}

Функция \texttt{void motion\_nc()} является пользовательской программой движения №0, функции \texttt{void motion\#\#()} ~-- программы движения с номерами \#\#.

Пример программы движение приведён в \textbf{ПРИЛОЖЕНИИ 1} в листинге <<Задание программы движения>> на стр. \pageref{MotionNC}.

% *******end section*****************
%--------------------------------------------------------
% *******begin section***************
\section{\DbgSecSt{\StPart}{Загрузка конфигурации в УЧПУ}}
\index{Создание программ ПЛК!Загрузка конфигурации в УЧПУ}

Загрузка файла конфигурации <<config.mcc>> в УЧПУ осуществляется по протоколу SCP, предназначенного для защищённого копирования файлов.\killoverfullbefore \BL

Для загрузки файла конфигурации из ОС Linux используется команда \texttt{<<scp>>}, которая имеет следующий синтаксис: \texttt{<<scp source\_file\_name username@destination\_host:destination\_folder>>}. Основная команда SCP без параметров копирует файлы в фоновом режиме. Параметр <<-v>> команды \texttt{<<scp>>} служит для вывода отладочной информации на экран, что может помочь настроить соединение, аутентификацию и устранить проблемы конфигурации. \killoverfullbefore 

Пример использования команды \texttt{<<scp>>} загрузки файла <<config.mcc>> в УЧПУ: \newline \texttt{<<scp config.mcc root@192.168.1.90:/root/>>}. \killoverfullbefore \BL

Загрузка файла конфигурации из ОС Windows выполняется посредством свободно распространяемой (лицензия GNU GPL) программы ~-- графической оболочки-клиента WinSCP. \killoverfullbefore 

%SCP (от англ. secure copy) — протокол особого удалённого копирования файлов, использующий в качестве транспорта не RSH, а SSH.

После запуска программы WinSCP необходимо ввести параметры нового подключения в окне <<Вход>> (рис. ~\ref{fig:WinSCP_1}):
\begin{itemize}
\item протокол передачи ~-- SCP;
\item имя хоста ~-- IP-адрес УЧПУ, номер порта оставить по умолчанию;
\item имя пользователя и пароль (по умолчанию root и 123456). \killoverfullbefore \BL
\end{itemize}

\DrawPictEpsFromSvg[0.6\textwidth]{./Pictures/svg/WinSCP_1}{Ввод параметров подключения}{WinSCP_1}

Записать введённые параметры, нажав кнопку <<Сохранить>>. 

В окне диалоговом окне <<Сохранить как новое подключение>> оставить настройки сохранения без изменений и нажать кнопку <<ОК>> (рис. ~\ref{fig:WinSCP_2}).

\DrawPictEpsFromSvg[0.6\textwidth]{./Pictures/svg/WinSCP_2}{Сохранение параметров подключения}{WinSCP_2}

Подключиться к УЧПУ, нажав кнопку <<Войти>> (рис. ~\ref{fig:WinSCP_3}).

\DrawPictEpsFromSvg[0.6\textwidth]{./Pictures/svg/WinSCP_3}{Подключение к УЧПУ}{WinSCP_3}

После подключения к УЧПУ в правой панели программы отобразится удалённый каталог УЧПУ для загрузки файлов конфигурации. В левой панели следует перейти в каталог сборки проекта и переписать файл <<config.mcc>> в каталог УЧПУ \texttt{var/lib/motioncore/config/} в правой панели.\killoverfullbefore

\DrawPictEpsFromSvg[0.85\textwidth]{./Pictures/svg/WinSCP_4}{Загрузка файла конфигурации в УЧПУ}{WinSCP_4}

Для того, чтобы изменения вступили в силу необходимо перезагрузить УЧПУ командой \texttt{\$\$\$} через программную оболочку ServoIDE или отключением и включением питания.\killoverfullbefore

% *******end section*****************
\index{Создание программ ПЛК|)}

\clearpage